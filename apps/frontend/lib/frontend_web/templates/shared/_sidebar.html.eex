<div class="flex flex-col w-1/5 border-r border-gray-200 bg-white">
  <div class="flex-1 flex flex-col pt-5 pb-4 overflow-y-auto">
    <div class="logo">
      <%= active_link(@conn, to: "/", active: [{FrontendWeb.PageController, :any}], class_active: "text-indigo-600", class_inactive: "text-indigo-900") do %>
        <svg width="40" height="47" class="fill-current" xmlns="http://www.w3.org/2000/svg"><path d="M18.177.961c-.917.52-1.68.973-1.69.984-.023.01.563.906 1.303 1.978s1.392 1.911 1.437 1.856c.099-.1 2.165-4.464 2.265-4.785.055-.165-.078-.287-.641-.596C20.464.177 20.077 0 19.989 0c-.088 0-.906.431-1.812.961z" /><path d="M22 1.414c-.066.122-.619 1.282-1.227 2.575-.607 1.293-1.127 2.376-1.16 2.398-.022.033-.143-.067-.265-.21-.121-.144-.22-.21-.232-.144 0 .055-.066.2-.144.299-.121.176-.309-.056-1.569-1.912-1.038-1.514-1.48-2.088-1.602-2.044-.088.044-3.68 2.121-7.978 4.619L.011 11.546 0 12.663v1.116l4.895 5.978c2.685 3.293 4.917 5.978 4.95 5.978.044.01 2.078-4.265 4.53-9.492 2.443-5.226 4.487-9.503 4.542-9.503.055 0 .144.11.21.255.1.232-.442 1.47-4.342 9.778l-4.454 9.514-.243-.232-.232-.22-.154.287c-.155.287-.188.243-4.785-5.37a1830.02 1830.02 0 0 1-4.773-5.824C.034 14.785.01 16.895 0 24.862v10.11l2.155 1.26c1.182.685 2.188 1.215 2.243 1.182.044-.022 1.226-2.486 2.619-5.47 2.497-5.358 2.541-5.425 2.751-5.215.265.265.453-.199-2.464 6.034-1.282 2.729-2.332 4.994-2.332 5.038 0 .088 6.431 3.856 6.597 3.856.055 0 1.017-1.68 2.133-3.734 1.116-2.044 2.044-3.746 2.066-3.768.011-.022.133.044.265.154.221.21.32.166.464-.22.055-.144-.409-.697 4 4.696 2.11 2.585 3.923 4.784 4.033 4.895.188.199.31.132 3.625-1.79l3.425-2.011 2.177-4c1.204-2.2 2.22-4.045 2.265-4.1.055-.044.144.011.21.144.166.287.31.298.398.01.033-.12.11-.22.143-.22.045 0 .652.817 1.337 1.823l1.25 1.823.32-.188.32-.188v-9.292l-1.58 2.895c-.862 1.602-1.602 2.906-1.658 2.906-.044 0-.132-.122-.199-.265-.11-.233.067-.62 1.658-3.525L40 24.442v-6.453l-.011-6.442-4.254-2.475C32.707 7.315 31.448 6.64 31.38 6.74c-.044.067-1.215 2.221-2.608 4.774l-2.519 4.64-.21-.253-.21-.255-.188.255-.198.254-3.017-4.398c-1.658-2.42-3.039-4.475-3.06-4.575-.023-.088.021-.254.11-.375.143-.188.409.165 3.226 4.287 1.713 2.497 3.127 4.442 3.183 4.387.044-.044 1.204-2.122 2.552-4.608 1.823-3.337 2.442-4.553 2.343-4.64-.133-.134-8.233-4.863-8.509-4.973-.088-.033-.21.033-.276.154zm9.293 22.177a6853.93 6853.93 0 0 1 4.994 7.315c.044.077.011.265-.077.431-.144.287-.232.177-5.171-7.039-2.763-4.022-5.072-7.315-5.127-7.315-.067 0-2.056 3.58-4.442 7.945a3684.57 3684.57 0 0 1-4.63 8.486l-.299.542-.198-.265c-.177-.221-.221-.244-.32-.1-.056.089-.111.2-.111.243 0 .265-.453-.22-2.884-3.193-3.326-4.044-3.017-3.613-2.84-3.956.154-.276.188-.232 3.005 3.205 1.58 1.911 2.895 3.48 2.929 3.48.033 0 2.11-3.757 4.596-8.342 2.497-4.597 4.586-8.431 4.663-8.53.11-.178.144-.178.343.077l.22.276.144-.31c.078-.165.177-.265.21-.22.045.055 2.288 3.314 4.995 7.27z" /><path d="M34.541 35.702c-1.016 1.878-1.845 3.447-1.823 3.458.066.067 6.011-3.436 6.011-3.547 0-.11-2.188-3.348-2.265-3.348-.033 0-.895 1.547-1.923 3.437zM14.199 38.265c-1.094 2.022-1.99 3.702-1.99 3.746 0 .122 7.36 4.398 7.68 4.464.266.055.52-.077 3.46-1.779.408-.243.728-.486.706-.541-.044-.144-7.746-9.558-7.812-9.558-.033 0-.95 1.646-2.044 3.668z" /></svg>
        <span class="text-center">metagraph</span>
      <% end %>
    </div>
    <nav class="mt-5 flex-1 px-2 bg-white space-y-1 menu">
      <%= active_link(@conn, to: "/", active: [{FrontendWeb.PageController, :index}], class_active: "active") do %>
          <span class="px-4 flex items-center">
              <svg class="h-4 h-4" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor"><path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>
              <span class="pl-2 text">Home</span>
          </span>
      <% end %>
      <%= active_link(@conn, to: "/browse", active: [{FrontendWeb.ItemLive, :any}, {FrontendWeb.BrowseLive, :any}, {FrontendWeb.BrowseLive.Show, :any}], class_active: "active") do %>
          <span class="px-4 flex items-center">
              <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" /></svg>
              <span class="pl-2 text">Browse</span>
          </span>
      <% end %>
      <%= active_link(@conn, to: "/feed", active: [{FrontendWeb.FeedController, :any}], class_active: "active") do %>
          <span class="px-4 flex items-center">
              <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z" /></svg>
              <span class="pl-2 text">Feed</span>
          </span>
      <% end %>
      <%= active_link(@conn, to: "/help", active: [{FrontendWeb.PageController, :help}], class_active: "active") do %>
          <span class="px-4 flex items-center">
              <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>
              <span class="pl-2 text">Help</span>
          </span>
      <% end %>
    </nav>
  </div>
  <%= if @user_signed_in? do %>
  <div class="flex-shrink-0 flex w-full justify-center items-center p-4">
    <a href="#" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
      Create item
    </a>
  </div>
  <% end %>
  <div class="flex-shrink-0 flex border-t border-gray-200">
    <%= if @user_signed_in? do %>
      <div class="w-full relative p-1" x-data="{ open: false }">
        <div class="flex items-center transition-all hover:cursor-pointer rounded-lg p-3" @click="open = ! open">
          <div class="w-8 h-8 bg-center bg-cover shadow-inner rounded-full hover:cursor-pointer" style="background-image: url('https://i.imgur.com/Pk3sdKY.jpg');" @click="open = ! open"></div>
          <div class="ml-3 flex-1">
            <h4 class="font-semibold text-indigo-900"><%= @current_user.username %></h4>
            <h6 class="text-sm text-indigo-900 opacity-75">Member</h6>
          </div>
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z" clip-rule="evenodd"></path></svg>
        </div>
        <div class="origin-top-right absolute right-0 bottom-0 mb-16 w-56 rounded shadow-lg" x-cloak x-show="open">
          <div class="rounded bg-white shadow-xs">
            <div class="py-1" role="menu" aria-orientation="vertical" aria-labelledby="options-menu">
              <a href="/profile" class="block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:bg-gray-100 focus:text-gray-900" role="menuitem">Account settings</a>
              <a href="/auth/logout" class="block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:bg-gray-100 focus:text-gray-900" role="menuitem">Sign out</a>
            </div>
          </div>
        </div>
      </div>
    <% else %>
      <div class="auth_menu p-4 flex justify-between w-full">
        <%= active_link(@conn, to: "/auth/signup", active: [{FrontendWeb.AuthController, :signup}], class_active: "active") do %>
          Join us
        <% end %>
        <%= active_link(@conn, to: "/auth/login", active: [{FrontendWeb.AuthController, :login}], class_active: "active") do %>
          Sign in
        <% end %>
      </div>
    <% end %>
  </div>
</div>
